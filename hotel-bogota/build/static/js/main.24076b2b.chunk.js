(this["webpackJsonphotel-bogota"]=this["webpackJsonphotel-bogota"]||[]).push([[0],{127:function(e,t,n){},129:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},145:function(e,t){},155:function(e,t,n){},156:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(24),i=n.n(o),s=(n(127),n(4)),r=n.n(s),l=n(36),d=n(33),j=n(191),u=n(195),b=n(158),p=(n(129),n(11));var h=function(e){var t=e.title;return Object(p.jsx)(j.a,{className:"logoCard",children:Object(p.jsxs)(u.a,{className:"cardContent",children:[Object(p.jsx)(b.a,{gutterBottom:!0,variant:"h1",component:"h1",children:t}),Object(p.jsxs)("div",{className:"logo-wrapper",children:[Object(p.jsx)("div",{className:"logo-emblem"}),Object(p.jsx)("div",{className:"logo-emblem"}),Object(p.jsx)("div",{className:"logo-emblem"})]})]})})},m=n(201),x=n(203),O=n(202),v=n(55),f=n(81),g=n(196),y=n(207),k=n(210),N=n(200),C=n(198),S=n(197);n(135);var D=function(e){var t=e.tokenInstance,n=e.applyDiscount,c=e.discount,a=c.tokenInstance&&c.tokenInstance.ticketId===t.ticketId;return Object(p.jsxs)("div",{onClick:function(e){return n(a?null:t)},className:a?"tokenCard selected":"tokenCard",children:[Object(p.jsxs)("div",{className:"ticketDetails",children:[Object(p.jsx)(b.a,{className:"ticketClass",gutterBottom:!0,variant:"h5",component:"h2",children:t.ticketClass.toString()}),Object(p.jsx)(b.a,{className:"ticketId",variant:"body2",color:"textSecondary",component:"p",children:t.ticketId.toString()}),Object(p.jsxs)(b.a,{className:"devconId",variant:"body2",color:"textSecondary",component:"p",children:["Devcon ID: ",t.devconId.toString()]})]}),Object(p.jsx)("img",{className:"ticketImg",src:"ticket_example_image.svg"})]})};n(136);function I(e){var t=e.roomType,n=e.applyDiscount,o=e.discount,i=e.price,s=e.tokens,r=e.book,l=a.a.useState(!1),j=Object(d.a)(l,2),u=j[0],b=j[1],h=Object(c.useReducer)((function(e,t){return Object(f.a)(Object(f.a)({},e),t)}),{reference:"Beeple",cardNo:"00000000000",cardSort:"00-00-00",cardCsv:"000"}),m=Object(d.a)(h,2),x=m[0],O=m[1],I=function(e){var t=e.target.name,n=e.target.value;O(Object(v.a)({},t,n))},w=function(e){e.preventDefault(),r({formInput:x,roomType:t})},T=function(){b(!1)},B=i-(o.value?o.value:0)/100*i,P=["0"];return Object(p.jsxs)("div",{children:[Object(p.jsx)(g.a,{size:"small",color:"primary",onClick:function(){b(!0)},children:"Book"}),Object(p.jsx)(k.a,{open:u,onClose:T,"aria-labelledby":"form-dialog-title",children:Object(p.jsxs)("div",{className:"modalContainer",children:[Object(p.jsx)(S.a,{className:"title",disableTypography:!0,children:t}),Object(p.jsxs)(S.a,{className:"subTitle",disableTypography:!0,children:[B," COP per night. ",o.value?"(".concat(o.value,"% discount)"):""]}),Object(p.jsx)(C.a,{children:Object(p.jsxs)("form",{onSubmit:w,children:[Object(p.jsxs)("div",{style:{border:"1px solid darkcyan",padding:"7px 12px",fontSize:"14px",display:"flex",justifyContent:"space-between"},children:[Object(p.jsx)("div",{style:{textAlign:"left"},children:"check in 01/08/2021"}),Object(p.jsx)("div",{style:{textAlign:"left"},children:"check out 15/08/2021"})]}),Object(p.jsx)("div",{style:{borderLeft:"1px solid darkcyan",borderRight:"1px solid darkcyan",borderBottom:"1px solid darkcyan",padding:"7px 12px",fontSize:"14px",textAlign:"left"},children:Object(p.jsxs)("div",{children:["Total ",14*B," COP"]})}),Object(p.jsx)("div",{children:s.length>0&&Object(p.jsx)("p",{className:"smallCopy",children:"Select a ticket to apply discount:"})}),Object(p.jsx)("div",{className:"ticketWrapper",children:s&&s.filter((function(e){return P.toString().indexOf(e.ticketClass)>-1})).map((function(e,t){return Object(p.jsx)("div",{children:Object(p.jsx)(D,{applyDiscount:n,tokenInstance:e,discount:o})},t)}))}),Object(p.jsx)(y.a,{id:"booking-name",label:"Reference name",placeholder:"Beeple",value:"Beeple",helperText:"(a check-in reference name for your booking)",fullWidth:!0,name:"reference",margin:"normal",onChange:I,InputLabelProps:{shrink:!0}}),Object(p.jsx)(y.a,{id:"card-no",label:"Card Number",fullWidth:!0,placeholder:"00000000000",value:"00000000000",name:"cardNo",margin:"normal",onChange:I,InputLabelProps:{shrink:!0}}),Object(p.jsx)(y.a,{id:"card-sort",label:"Card Sort Number",fullWidth:!0,placeholder:"00-00-00",value:"00-00-00",name:"cardSort",margin:"normal",onChange:I,InputLabelProps:{shrink:!0}}),Object(p.jsx)(y.a,{id:"card-csv",label:"CSV",fullWidth:!0,value:"000",placeholder:"000",name:"cardCsv",margin:"normal",onChange:I,InputLabelProps:{shrink:!0}}),Object(p.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",marginTop:"12px"},children:[Object(p.jsx)("div",{style:{color:"grey",fontSize:"12px",marginRight:"5px"},children:"cards accepted"}),Object(p.jsx)("img",{style:{width:"100px",height:"24px"},src:"./cards-accepted-demo.png"})]})]})}),Object(p.jsx)("div",{className:"booking",children:Object(p.jsxs)(N.a,{children:[Object(p.jsx)(g.a,{onClick:T,color:"primary",children:"Cancel"}),Object(p.jsx)(g.a,{onClick:w,color:"primary",disabled:!1,children:"Pay Now"})]})})]})})]})}n(138);var w=Object(m.a)({root:{maxWidth:345,margin:"20px"},media:{height:140}});function T(e){var t=e.room,n=e.applyDiscount,c=e.discount,a=e.tokens,o=e.book,i=w(),s=t.type,r=t.price,l=t.image,d=t.frequency;return Object(p.jsxs)(j.a,{className:"roomCard",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)(O.a,{className:i.media,image:l,title:"token"}),Object(p.jsxs)(u.a,{children:[Object(p.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"h2",children:s}),Object(p.jsxs)(b.a,{variant:"body2",color:"textSecondary",component:"p",children:["From ",r," COP / ",d]})]})]}),Object(p.jsx)(x.a,{children:Object(p.jsx)(I,{book:o,applyDiscount:n,tokens:a,roomType:s,discount:c,price:r})})]})}var B=n(204);n(139);function P(e){var t=e.tokensNumber;return Object(p.jsxs)(j.a,{className:"tokenNotificationCard",children:[Object(p.jsxs)(u.a,{children:[Object(p.jsxs)(b.a,{gutterBottom:!0,variant:"h1",component:"h1",children:[t," Devcon Tickets"]}),Object(p.jsx)(b.a,{gutterBottom:!0,variant:"body1",component:"p",children:"booking discounts available"})]}),Object(p.jsx)("div",{className:"cardBottomLip"})]})}var L=function(e){var t=e.getTokens,n=e.negotiator,a=e.tokensNumber,o=Object(c.useState)(void 0),i=Object(d.a)(o,2),s=i[0],r=i[1],l=function(e){n.setUserPermission(e),r(n.getUserPermission())};return Object(c.useEffect)((function(){r(n.getUserPermission()),!0===s&&t()}),[s]),Object(p.jsx)(B.a,{in:!0,style:{transitionDelay:"500ms"},children:Object(p.jsxs)("div",{children:[s&&Object(p.jsx)(P,{tokensNumber:a}),void 0===s&&Object(p.jsxs)(j.a,{className:"tokenNotificationCard",children:[Object(p.jsxs)(u.a,{children:[Object(p.jsx)(b.a,{gutterBottom:!0,variant:"body1",component:"p",children:"Do you give permission for Devcon to connect with this website?"}),Object(p.jsx)("button",{onClick:function(e){return l(!0)},children:"YES"})," ",Object(p.jsx)("button",{onClick:function(e){return l(!1)},children:"NO"})]}),Object(p.jsx)("div",{className:"cardBottomLip"})]})]})})},E=(n(140),function(){return Object(p.jsx)("div",{className:"ethScale",children:Object(p.jsx)("div",{id:"space",children:Object(p.jsxs)("div",{className:"elogo",children:[Object(p.jsx)("div",{className:"trif u1"}),Object(p.jsx)("div",{className:"trif u2"}),Object(p.jsx)("div",{className:"trif u3"}),Object(p.jsx)("div",{className:"trif u4"}),Object(p.jsx)("div",{className:"ct"}),Object(p.jsx)("div",{className:"trif l1"}),Object(p.jsx)("div",{className:"trif l4"})]})})})}),R=n(205),F=n(109),W=n(29),q=n(208);function K(e){var t=e.label,n=e.handleInput,c=e.date;return Object(p.jsx)(W.a,{utils:F.a,children:Object(p.jsx)(R.a,{container:!0,justify:"space-around",children:Object(p.jsx)(q.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",className:"date-picker-inline",label:t,disabled:!0,value:c,onChange:function(e){return n(e,t)},KeyboardButtonProps:{"aria-label":"change date"}})})})}var _=function(){var e=new Date,t=new Date;t.setDate(t.getDate()+1);var n=Object(c.useState)({from:e,to:t}),a=Object(d.a)(n,2),o=(a[0],a[1]),i=function(e,t){o(Object(v.a)({},t,e))};return Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"center",width:"80%"},children:[Object(p.jsx)("div",{style:{margin:"10px"},children:Object(p.jsx)(K,{name:"from",label:"check in",handleInput:i,date:"08/01/2021"})}),Object(p.jsx)("div",{style:{margin:"10px"},children:Object(p.jsx)(K,{name:"to",label:"check out",handleInput:i,date:"08/15/2021"})})]})})},z=n(104),U=(n(155),[{type:"Deluxe Room",price:2e5,frequency:"per night",image:"./hotel_3.jpg"},{type:"King Suite",price:32e4,frequency:"per night",image:"./hotel_2.png"},{type:"Superior Deluxe Suite",price:250030,frequency:"per night",image:"./hotel_1.jpg"}]);var A=function(){var e=new z.a({},"devcon-ticket",{userPermissionRequired:!0}),t=Object(c.useState)([]),n=Object(d.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)(!1),s=Object(d.a)(i,2),j=s[0],u=s[1],m=Object(c.useState)([]),x=Object(d.a)(m,2),O=x[0],v=x[1],f=Object(c.useState)({value:void 0,tokenInstance:null}),g=Object(d.a)(f,2),y=g[0],k=g[1],N=Object(c.useState)({status:!1,useTicket:void 0,ethKey:void 0}),C=Object(d.a)(N,2),S=C[0],D=C[1],I=function(){var t=Object(l.a)(r.a.mark((function t(n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&null!==n){t.next=5;break}k({value:void 0,tokenInstance:void 0}),D({status:!1,proof:void 0,useEthKey:void 0}),t.next=11;break;case 5:return"https://crypto-verify.herokuapp.com/use-devcon-ticket",t.next=8,e.authenticate({unEndPoint:"https://crypto-verify.herokuapp.com/use-devcon-ticket",unsignedToken:n});case 8:c=t.sent,console.log("authenticationData",c),!0===c.status&&c.useEthKey&&c.proof&&(D(c),k({value:10,tokenInstance:n}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"https://raw.githubusercontent.com/TokenScript/token-negotiator/main/examples/hotel-bogota/mockbackend-responses/pay.json",n={discount:S,bookingData:{formData:t}},console.log("useDiscountProof",n),fetch("https://raw.githubusercontent.com/TokenScript/token-negotiator/main/examples/hotel-bogota/mockbackend-responses/pay.json"+new URLSearchParams(n)).then((function(e){alert("Transaction Complete, we look forward to your stay with us!")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){v(U)}),[]),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"header",children:[Object(p.jsx)(h,{title:"Hotel Bogota"}),Object(p.jsx)(L,{getTokens:function(t){e.negotiate().then((function(e){e.success&&(o(e.tokens),u(!0))}))},negotiator:e,tokensNumber:a.length})]}),Object(p.jsx)(_,{}),Object(p.jsx)("div",{className:"roomCardsContainer",children:O.map((function(e,t){return Object(p.jsx)(T,{room:e,applyDiscount:I,discount:y,tokens:a,book:w},t)}))}),j&&Object(p.jsxs)("div",{children:[Object(p.jsx)(E,{}),Object(p.jsx)(b.a,{style:{padding:"20px"},className:"applyDiscountCopyContainer",gutterBottom:!0,variant:"body2",component:"p",children:"Free shuttle service available to you as a Devcon Ticket holder! Enjoy the event."})]})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,213)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))};i.a.render(Object(p.jsx)(A,{}),document.getElementById("root")),J()}},[[156,1,2]]]);
//# sourceMappingURL=main.24076b2b.chunk.js.map